{"version":3,"sources":["index.js"],"names":["galleryItems","preview","original","description","refs","galleryContainer","document","querySelector","lightbox","lightboxOverlay","btnModalClose","lightboxContent","lightboxContentImage","galleryItemMarkup","createItemCardsMarkup","map","index","join","getImgAttributes","event","imgTargetEl","target","src","dataset","source","alt","id","removeImgAttributes","removeAttribute","modalOpen","preventDefault","classList","contains","add","window","addEventListener","onEscKeyPress","onArrowClick","modalClose","remove","removeEventListener","code","onBackdropClick","currentTarget","ArrR_KEY_CODE","currentId","getAttribute","changeImgArgByPressRight","changeImgArgByPressLeft","arg","length","nextImg","nextSrc","getElementById","insertAdjacentHTML"],"mappings":"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","file":"src.9c6afe79.js","sourceRoot":"../src","sourcesContent":["const galleryItems = [\n    {\n      preview:\n        'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg',\n      original:\n        'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg',\n      description: 'Hokkaido Flower',\n    },\n    {\n      preview:\n        'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\n      original:\n        'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\n      description: 'Container Haulage Freight',\n    },\n    {\n      preview:\n        'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\n      original:\n        'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\n      description: 'Aerial Beach View',\n    },\n    {\n      preview:\n        'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\n      original:\n        'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\n      description: 'Flower Blooms',\n    },\n    {\n      preview:\n        'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\n      original:\n        'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\n      description: 'Alpine Mountains',\n    },\n    {\n      preview:\n        'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\n      original:\n        'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\n      description: 'Mountain Lake Sailing',\n    },\n    {\n      preview:\n        'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\n      original:\n        'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\n      description: 'Alpine Spring Meadows',\n    },\n    {\n      preview:\n        'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\n      original:\n        'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\n      description: 'Nature Landscape',\n    },\n    {\n      preview:\n        'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\n      original:\n        'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\n      description: 'Lighthouse Coast Sea',\n    },\n  ];\n  \n  const refs = {\n  galleryContainer: document.querySelector('.js-gallery'),\n  lightbox: document.querySelector('.lightbox'),\n  lightboxOverlay: document.querySelector('.lightbox__overlay'),\n  btnModalClose: document.querySelector('.lightbox__button'),\n  lightboxContent: document.querySelector('.lightbox__content'),\n  lightboxContentImage: document.querySelector('.lightbox__image'),\n  };\n  \n  const galleryItemMarkup = createItemCardsMarkup(galleryItems);\n  \n  refs.galleryContainer.insertAdjacentHTML('beforeend', galleryItemMarkup);\n  \n  refs.galleryContainer.addEventListener('click', modalOpen);\n  refs.btnModalClose.addEventListener('click', modalClose);\n  refs.lightboxOverlay.addEventListener('click', onBackdropClick);\n  \n  function createItemCardsMarkup(galleryItems) {\n    return galleryItems\n    .map(({ preview, original,  description}, index) => {\n        return `\n        <li \n            class=\"gallery__item\">\n                <a\n                    class=\"gallery__link\"\n                    href=\"${original}\"\n                >\n                <img\n                    class=\"gallery__image\"\n                    id=\"${index+1}\"\n                    src=\"${preview}\"\n                    data-source=\"${original}\"\n                    alt=\"${description}\"\n                />\n                </a>\n        </li>`;\n    })\n    .join('');\n  };\n  \n  function getImgAttributes(event) {\n  \n    const imgTargetEl = event.target;\n        \n    refs.lightboxContentImage.src = `${imgTargetEl.dataset.source}`;\n    refs.lightboxContentImage.alt = `${imgTargetEl.alt}`;\n    refs.lightboxContentImage.id = `${imgTargetEl.id}`;\n  }\n  \n  function removeImgAttributes() {\n    refs.lightboxContentImage.removeAttribute(\"src\");\n    refs.lightboxContentImage.removeAttribute(\"alt\");\n    refs.lightboxContentImage.removeAttribute(\"id\");\n  };\n  \n  function modalOpen(event) {\n    event.preventDefault();\n  \n    const isImageEl = event.target.classList.contains('gallery__image');\n  \n    if (!isImageEl) {\n        return;\n    }\n        \n    refs.lightbox.classList.add('is-open');\n    getImgAttributes(event);\n        \n    window.addEventListener('keydown', onEscKeyPress);\n    window.addEventListener('keydown', onArrowClick);\n  };\n  \n  function modalClose() {\n    refs.lightbox.classList.remove('is-open');\n    removeImgAttributes();\n      \n    window.removeEventListener('keydown', onEscKeyPress);\n    window.removeEventListener('keydown', onArrowClick);\n  \n  };\n  \n  function onEscKeyPress(event) {\n    const EscKeyCode = 'Escape';\n  \n    if (event.code === EscKeyCode) {\n        modalClose();\n    }\n  };\n  \n  function onBackdropClick(event) {\n    if (event.currentTarget === event.target) {\n      modalClose();\n    }\n  };\n  \n  \n  function onArrowClick(event) {\n    const ArrR_KEY_CODE = 'ArrowRight';\n    const ArrL_KEY_CODE = 'ArrowLeft';\n  \n    const currentId = refs.lightboxContentImage.getAttribute(\"id\");\n  \n        if(event.code === ArrR_KEY_CODE) {\n            const newId = + currentId + 1;\n            changeImgArgByPressRight (newId);\n        }\n  \n        else if (event.code === ArrL_KEY_CODE) {\n            const newId = + currentId - 1;\n            changeImgArgByPressLeft (newId);\n        }\n    \n  };\n  \n  function changeImgArgByPressRight (arg) { \n    if (arg <= galleryItems.length) {      \n        const nextImg = document.getElementById(`${arg}`);\n        const nextSrc = nextImg.getAttribute(\"data-source\");\n        \n  \n        refs.lightboxContentImage.id = `${arg}`;\n        refs.lightboxContentImage.src = `${nextSrc}`;\n    }\n    else {\n        const nextImg = document.getElementById(`${arg-galleryItems.length}`);\n        const nextSrc = nextImg.getAttribute(\"data-source\");\n        \n  \n        refs.lightboxContentImage.id = `${arg-galleryItems.length}`;\n        refs.lightboxContentImage.src = `${nextSrc}`;\n    }\n  \n  \n  \n  };\n  \n  function changeImgArgByPressLeft (arg) { \n    if (arg >= 1) {      \n        const nextImg = document.getElementById(`${arg}`);\n        const nextSrc = nextImg.getAttribute(\"data-source\");\n        \n  \n        refs.lightboxContentImage.id = `${arg}`;\n        refs.lightboxContentImage.src = `${nextSrc}`;\n    }\n    else {\n        const nextImg = document.getElementById(`${arg+galleryItems.length}`);\n        const nextSrc = nextImg.getAttribute(\"data-source\");\n        \n  \n        refs.lightboxContentImage.id = `${arg+galleryItems.length}`;\n        refs.lightboxContentImage.src = `${nextSrc}`;\n    }\n  };"]}